import{u as p,r as a,g as u,j as e,b as x}from"./index-XkiSkCIq.js";import{G as g}from"./iconBase-DXw1Gjh5.js";import{b as j}from"./index-Cu020-X3.js";import{M as y}from"./MenuBar-Btamy0Wc.js";import{I as b}from"./index-DVqpnsV0.js";import w from"./QRCode-DBIotD1d.js";import"./index-XVYYsUuH.js";import"./index-ChvRCRnw.js";function v(r){return g({attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14.341 3.579c-0.347-0.473-0.831-1.027-1.362-1.558s-1.085-1.015-1.558-1.362c-0.806-0.591-1.197-0.659-1.421-0.659h-7.75c-0.689 0-1.25 0.561-1.25 1.25v13.5c0 0.689 0.561 1.25 1.25 1.25h11.5c0.689 0 1.25-0.561 1.25-1.25v-9.75c0-0.224-0.068-0.615-0.659-1.421zM12.271 2.729c0.48 0.48 0.856 0.912 1.134 1.271h-2.406v-2.405c0.359 0.278 0.792 0.654 1.271 1.134zM14 14.75c0 0.136-0.114 0.25-0.25 0.25h-11.5c-0.135 0-0.25-0.114-0.25-0.25v-13.5c0-0.135 0.115-0.25 0.25-0.25 0 0 7.749-0 7.75 0v3.5c0 0.276 0.224 0.5 0.5 0.5h3.5v9.75z"},child:[]}]})(r)}const P=()=>{p();const[r,c]=a.useState(!0),[h,m]=a.useState([]),[i,f]=a.useState([]),o=window.sessionStorage.getItem("userId"),d=u();return a.useEffect(()=>{const s={userId:o};(async()=>{try{if(o){const l=(await x.get("/api/user/pastOrderCheck",{params:s,headers:{Authorization:`Bearer ${d}`}})).data.resultData;console.log(l),m([...l])}}catch(t){console.log(t)}})()},[]),a.useEffect(()=>{const s={userId:o};(async()=>{try{const t=await x.get("/api/user/activeOrderCheck",{params:s,headers:{Authorization:`Bearer ${d}`}});console.log(t.data);const l=t.data.resultData;f([...l])}catch(t){console.log(t)}})()},[]),console.log(i),e.jsxs("div",{className:"w-full h-dvh flex flex-col justify-between overflow-hidden overflow-y-scroll scrollbar-hide mb-32",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between border-b-2 border-gray border-opacity-70 bg-white",children:[e.jsx("div",{onClick:()=>c(!r),className:`w-1/2 text-center text-xl font-semibold py-3 ${r?"border-b-2 border-black":"text-darkGray font-normal"}`,children:"진행 중인 주문"}),e.jsx("div",{onClick:()=>c(!r),className:`w-1/2 text-center text-xl font-semibold py-3 ${r?"text-darkGray font-normal":"border-b-2 border-black"}`,children:"지난 주문 내역"})]}),r?i.lenth===0?e.jsx(e.Fragment,{children:e.jsx(w,{})}):e.jsxs("div",{className:"flex flex-col w-full h-dvh justify-center items-center gap-3",children:[e.jsx(v,{className:"text-8xl text-darkGray"}),e.jsx("span",{className:"text-2xl text-darkGray",children:"진행 중인 주문이 없습니다"}),e.jsxs("div",{onClick:()=>c(!1),className:"flex items-center gap-1 mt-3 text-xl border border-darkGray px-3 py-1 rounded-lg bg-white cursor-pointer",children:["지난 주문 내역 보기",e.jsx(b,{})]})]}):e.jsx("div",{className:"flex flex-col w-full h-dvh justify-start items-center gap-5 mt-20 scrollbar-hide",children:h.map((s,n)=>e.jsxs("div",{className:"w-full h-1/5 bg-white shadow-lg border-y border-y-gray",children:[e.jsxs("div",{className:"w-full h-1/4 flex justify-between items-center px-5 py-3",children:[e.jsx("span",{className:"text-darkGray",children:s.createdAt.slice(0)}),e.jsx("span",{className:"font-semibold",children:s.reservationYn>0?"예약주문":"현장결제"})]}),e.jsxs("div",{className:"w-full h-3/4 flex justify-start items-center gap-5 px-5",children:[e.jsx("img",{src:s.filePath===""?"/storeimg.png":`http://112.222.157.156:5222/pic/restaurant/${s==null?void 0:s.restaurantId}/${s==null?void 0:s.filePath}`,alt:"식당이미지",className:"w-16 h-16 rounded-xl"}),e.jsxs("div",{className:"flex flex-col w-[60%]",children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold text-2xl",children:[e.jsx("span",{children:s.restaurantName}),e.jsx(j,{})]}),e.jsxs("div",{className:"flex items-center gap-5 mt-1 justify-between",children:[e.jsx("span",{className:"text-nowrap",children:s.menuName.split(",").map(t=>t).slice(0,1)}),e.jsxs("span",{className:"flex text-nowrap gap-2 items-center",children:[e.jsx("span",{className:"text-darkGray",children:"총 가격"}),e.jsxs("span",{className:"text-lg",children:[s.menuTotalPrice.toLocaleString("ko-KR"),"원"]})]})]})]})]})]},n))}),e.jsx(y,{})]})};export{P as default};
