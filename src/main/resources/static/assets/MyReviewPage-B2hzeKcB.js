import{c as n,h as j,u as g,e as d,j as e,k as b,V as w,B as v}from"./index-CQbk2HOI.js";import{F as N}from"./index-A94kbpTM.js";import{M as y}from"./MenuBar-xsBcDoCC.js";import{I}from"./ImgPreview-BAKvq7IS.js";import{d as M}from"./dayjs.min-CeLsBkk8.js";import"./index-BUmomptc.js";import"./index-kw6KE48s.js";import"./index-qu_znskc.js";const D=()=>{const[i,f]=n.useState(null),[t,m]=n.useState([]),x=j(),p=g();n.useEffect(()=>{const s={page:1,size:15};try{(async()=>{const c=await d.get("/api/user/v3/review",{params:s,headers:{Authorization:`Bearer ${x}`}});console.log("서버에서 받아온 데이터 : ",c.data.resultData);const o=c.data.resultData.map(r=>({...r,createdAt:M(r.createdAt).format("YYYY-MM-DD")}));m([...o])})()}catch(a){console.log(a)}},[]);const u=async()=>{const s={orderId:0};try{const a=await d.delete("/api/user/v3/review",{params:s,headers:{Authorization:`Bearer ${x}`}})}catch(a){console.log(a)}},h=s=>{console.log("미리보기 : ",s),f(s)};return e.jsxs("div",{className:"flex flex-col w-full h-dvh",children:[e.jsxs("div",{className:"flex w-full px-4 py-4 justify-between items-center",children:[e.jsx("span",{onClick:()=>p("/user/userInfo"),className:"flex w-[10%] justify-center text-2xl cursor-pointer",children:e.jsx(b,{})}),e.jsx("span",{className:"flex w-[80%] justify-center text-lg ",children:"내가 쓴 리뷰"}),e.jsx("span",{className:"flex w-[10%] justify-center text-lg ",children:" "})]}),t==null?void 0:t.map((s,a)=>{var c,o;return e.jsxs("div",{className:"flex flex-col px-10 py-4 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-lg cursor-pointer",children:[e.jsx("span",{children:s.restaurantName}),e.jsx(w,{className:"font-semibold"})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("span",{className:"flex items-center",children:[...Array(5)].map((r,l)=>e.jsx(N,{className:l<s.rating?"text-yellow":"text-gray"},l))}),e.jsx("span",{className:"text-sm",children:s.createdAt})]}),(c=t==null?void 0:t.reviewPic)==null?void 0:c.map((r,l)=>e.jsx("div",{className:"flex w-full cursor-pointer",children:e.jsx("img",{src:`${REVIEW_IMAGE_URL}/0/${r}`,alt:"",className:"flex w-1/3",onClick:()=>h(`${REVIEW_IMAGE_URL}/0/${r}`)})},l)),e.jsx("div",{className:"flex w-full",children:e.jsx("span",{children:s.reviewText})}),e.jsx("div",{className:"flex w-full gap-4 items-center",children:(o=s.menuName)==null?void 0:o.map((r,l)=>e.jsx("span",{className:"flex px-2 py-1 border bg-white rounded-xl",children:r},l))}),e.jsx("div",{className:"flex w-full justify-end items-center",children:e.jsxs("div",{onClick:u,className:"flex items-center cursor-pointer gap-1",children:[e.jsx(v,{}),e.jsx("span",{children:"삭제"})]})}),e.jsxs("div",{className:"flex w-full gap-3",children:[e.jsx("img",{src:"/restaurant_default.png",alt:"",className:"flex w-10 h-10 object-cover border rounded-full"}),e.jsx("div",{className:"flex flex-col border w-full",children:e.jsxs("div",{className:`relative bg-white border border-black\r
                after:content-[''] after:absolute after: after:border-solid after:border-transparent after:h-0 after:w-0 after:right-full after:top-1/2 after:mt-[-10px] after:border-r-[#ffffff]\r
                before:content-[''] before:absolute before: before:border-solid before:border-transparent before:h-0 before:w-0 before:right-full before:top-5 before:border-[9px] before:mt-[-11px] before:border-r-black`,children:[e.jsxs("div",{className:"flex items-center p-4 gap-4",children:[e.jsx("span",{children:"사장님"}),e.jsx("span",{className:"text-sm",children:"1일전"})]}),e.jsx("div",{className:"flex p-4",children:e.jsx("span",{children:"리뷰 내용리뷰 내용리뷰 내용리뷰 내용리뷰 내용리뷰 내용리뷰 내용리뷰 내용리뷰 내용리뷰 내용리뷰 내용리뷰 내용리뷰 내용"})})]})})]})]},a)}),e.jsx(y,{}),i&&e.jsx(I,{image:i,onClose:()=>f(null)})]})};export{D as default};
