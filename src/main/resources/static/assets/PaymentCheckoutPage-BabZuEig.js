import{c as y,j as N,e as R}from"./index-CQbk2HOI.js";var S="https://js.tosspayments.com/v2/standard";function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},p(e)}function d(e,t){return d=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},d(e,t)}function g(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(e,t,o){return g()?v=Reflect.construct:v=function(r,c,a){var u=[null];u.push.apply(u,c);var i=Function.bind.apply(r,u),s=new i;return a&&d(s,a.prototype),s},v.apply(null,arguments)}function L(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function h(e){var t=typeof Map=="function"?new Map:void 0;return h=function(n){if(n===null||!L(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return v(n,arguments,p(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,n)},h(e)}function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function O(e){var t=g();return function(){var n=p(e),r;if(t){var c=p(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return T(this,r)}}var l=null;function F(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(l!=null)return l;var n=new Promise(function(r,c){try{var a=function(){m(t)!=null?r(m(t)):c(new A(t))},u=function(){c(new D(e))};if(typeof window>"u"||typeof document>"u")return r(null);if(m(t)!=null)return r(m(t));var i=document.querySelector('script[src="'.concat(e,'"]'));if(i!=null){var s;i.removeEventListener("load",a),i.removeEventListener("error",u),(s=i.parentElement)===null||s===void 0||s.removeChild(i)}var f=document.createElement("script");f.src=e,f.addEventListener("load",a),f.addEventListener("error",u),o.priority!=null&&(f.fetchPriority=o.priority),document.head.appendChild(f)}catch(w){c(w);return}});return l=n.catch(function(r){return l=null,Promise.reject(r)}),l}function m(e){return window[e]}var A=function(e){b(o,e);var t=O(o);function o(n){var r;return E(this,o),r=t.call(this,"[TossPayments SDK] ".concat(n," is not available")),r.name="NamespaceNotAvailableError",r}return o}(h(Error)),D=function(e){b(o,e);var t=O(o);function o(n){var r;return E(this,o),r=t.call(this,"[TossPayments SDK] Failed to load script: [".concat(n,"]")),r.name="ScriptLoadFailedError",r}return o}(h(Error));function I(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.src,n=o===void 0?S:o;return typeof window>"u"?Promise.resolve({}):F(n,"TossPayments").then(function(r){return r(e)})}const P="test_ck_P9BRQmyarY9Gnq5Yy99ZrJ07KzLN",_="rBINQlZyv9LSwkeaLhrZa";function M(){const[e,t]=y.useState(null),[o]=y.useState({currency:"KRW",value:5e4}),[n,r]=y.useState(null);y.useEffect(()=>{async function a(){try{const i=(await I(P)).payment({customerKey:_});t(i)}catch(u){console.error("Error fetching payment:",u)}}a()},[P,_]);async function c(){try{const a=crypto.randomUUID(),u=await R.post("/api/admin/company/v3/payment/temp",{amount:o.value,orderId:a});console.log(u),u.data.statusCode==="200"&&await e.requestPayment({method:"CARD",amount:o,orderId:a,orderName:"포인트 구매",successUrl:window.location.origin+"/success",failUrl:window.location.origin+"/fail",customerEmail:"customer123@gmail.com",customerName:"김토스",customerMobilePhone:"01012341234",card:{useEscrow:!1,flowMode:"DEFAULT",useCardPoint:!1,useAppCardOnly:!1}})}catch(a){console.log(a)}}return N.jsx("button",{className:"button",onClick:()=>c(),children:"결제하기"})}export{M as PaymentCheckoutPage};
