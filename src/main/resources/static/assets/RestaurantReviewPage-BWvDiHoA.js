import{r as n,t as h,u as g,j as e,v as N,g as v}from"./index-DJgBPc4Q.js";import{F as m}from"./index-BzVWIOBD.js";import{M as b}from"./MenuBar-BpfFSK8i.js";import{I as y}from"./ImgPreview-vVu_K11W.js";import{d as k}from"./dayjs.min-CzUCcK2h.js";import"./index-CtjnvDJq.js";import"./index-DlBG2OO7.js";import"./index-BqTeLzrK.js";const S=()=>{var o,f;const[d,x]=n.useState(null),[l,p]=n.useState([]),[t,j]=n.useState([]),{id:i}=h(),u=g();n.useEffect(()=>{(async()=>{try{const a=await v.get(`/api/restaurant/v3/review?restaurantId=${i}`);console.log(a.data.resultData),j([...a.data.resultData.reviews]),p([...a.data.resultData.ratingCounts])}catch(a){console.log(a)}})()},[]);const w=s=>{console.log(s),x(s)};return console.log(t),e.jsxs("div",{className:"flex flex-col w-full h-dvh",children:[e.jsxs("div",{className:"flex w-full px-4 py-4 justify-between items-center",children:[e.jsx("span",{onClick:()=>u(`/user/restaurant/detail/${i}`),className:"flex w-[10%] justify-center text-2xl cursor-pointer",children:e.jsx(N,{})}),e.jsx("span",{className:"flex w-[80%] justify-center text-lg pointer-events-none",children:"맥도날드 동성로점 리뷰"}),e.jsx("span",{className:"flex w-[10%] justify-center text-lg pointer-events-none",children:" "})]}),e.jsxs("div",{className:"flex w-[90%] bg-gray px-4 py-4 justify-betweem mx-auto rounded-sm",children:[e.jsxs("div",{className:"flex flex-col w-[30%] justify-center items-center text-nowrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"text-yellow text-xl"}),e.jsx("span",{className:"text-2xl font-semibold",children:(o=l==null?void 0:l.ratingCounts)==null?void 0:o.rating})]}),e.jsxs("span",{className:"text-sm",children:["리뷰 ",(f=l==null?void 0:l.ratingCounts)==null?void 0:f.count,"개"]})]}),e.jsxs("div",{className:"flex flex-col w-[70%] items-center justify-end px-4",children:[e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx("span",{className:"flex w-[5%]",children:"5"}),e.jsx("div",{className:"flex w-[85%] h-2.5 rounded-md bg-darkGray after:w-[85%] after:rounded-s-md after:bg-yellow"}),e.jsx("span",{className:"flex w-[10%] text-darkGray",children:"85%"})]}),e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx("span",{className:"flex w-[5%]",children:"4"}),e.jsx("div",{className:"flex w-[85%] h-2.5 rounded-md bg-darkGray after:w-[10%] after:rounded-s-md after:bg-yellow"}),e.jsx("span",{className:"flex w-[10%] text-darkGray",children:"10%"})]}),e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx("span",{className:"flex w-[5%]",children:"3"}),e.jsx("div",{className:"flex w-[85%] h-2.5 rounded-md bg-darkGray after:w-[5%] after:rounded-s-md after:bg-yellow"}),e.jsx("span",{className:"flex w-[10%] text-darkGray",children:"5%"})]}),e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx("span",{className:"flex w-[5%]",children:"2"}),e.jsx("div",{className:"flex w-[85%] h-2.5 rounded-md bg-darkGray after:w-[3%] after:rounded-s-md after:bg-yellow"}),e.jsx("span",{className:"flex w-[10%] text-darkGray",children:"3%"})]}),e.jsxs("div",{className:"flex w-full items-center gap-2",children:[e.jsx("span",{className:"flex w-[5%]",children:"1"}),e.jsx("div",{className:"flex w-[85%] h-2.5 rounded-md bg-darkGray after:w-[2%] after:rounded-s-md after:bg-yellow"}),e.jsx("span",{className:"flex w-[10%] text-darkGray",children:"2%"})]})]})]}),e.jsx("div",{className:"flex flex-col w-full pb-24",children:t.map((s,a)=>e.jsxs("div",{className:"flex flex-col px-10 pt-10 pb-5 gap-3",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("img",{src:s.userPic||"/profile.jpeg",alt:"",className:"flex w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{className:"flex items-center gap-1 text-lg pointer-events-none",children:e.jsx("span",{className:"font-semibold",children:s.nickName})}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("span",{className:"flex items-center text-sm",children:[...Array(5)].map((c,r)=>e.jsx(m,{className:r<s.rating?"text-yellow":"text-gray"},r))}),e.jsx("span",{className:"text-xs pointer-events-none",children:k(s.createdAt).format("YYYY-MM-DD")})]})]})]}),e.jsx("div",{className:"flex w-full cursor-pointer",children:s==null?void 0:s.reviewPic.map((c,r)=>e.jsx("img",{src:"/swiper1.jpg",alt:"",className:"flex w-1/3",onClick:()=>w("/swiper1.jpg")},r))}),e.jsx("div",{className:"flex w-full pointer-events-none",children:e.jsx("span",{children:s.reviewText})}),e.jsx("div",{className:"flex w-full gap-4 items-center pointer-events-none",children:s==null?void 0:s.menuName.map((c,r)=>e.jsx("span",{className:"flex px-2 py-1 border bg-white rounded-xl",children:c},r))}),e.jsx("div",{className:"flex w-full justify-end items-center "}),s.commentCreatedAt===null?e.jsx(e.Fragment,{}):e.jsxs("div",{className:"flex w-full gap-3",children:[e.jsx("img",{src:"/restaurant_default.png",alt:"",className:"flex w-10 h-10 object-cover border rounded-full"}),e.jsx("div",{className:"flex flex-col border w-full",children:e.jsxs("div",{className:`relative bg-white border border-black\r
                after:content-[''] after:absolute after:pointer-events-none after:border-solid after:border-transparent after:h-0 after:w-0 after:right-full after:top-1/2 after:mt-[-10px] after:border-r-[#ffffff]\r
                before:content-[''] before:absolute before:pointer-events-none before:border-solid before:border-transparent before:h-0 before:w-0 before:right-full before:top-5 before:border-[9px] before:mt-[-11px] before:border-r-black`,children:[e.jsxs("div",{className:"flex items-center p-4 gap-4",children:[e.jsx("span",{children:"사장님"}),e.jsx("span",{className:"text-sm",children:t.commentCreatedAt})]}),e.jsx("div",{className:"flex p-4",children:e.jsx("span",{children:t.commentText})})]})})]})]},a))}),e.jsx(b,{}),d&&e.jsx(y,{image:d,onClose:()=>x(null)})]})};export{S as default};
