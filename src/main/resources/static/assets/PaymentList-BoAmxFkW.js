import{u,r as a,B as j,j as e,K as y,M as g,s as w,g as x}from"./index-DJgBPc4Q.js";import{a as b}from"./index-BqTeLzrK.js";import{M as v}from"./MenuBar-BpfFSK8i.js";import N from"./QRCode-BnSxq-cm.js";import"./index-CtjnvDJq.js";import"./index-DlBG2OO7.js";const A=()=>{const h=u(),[t,o]=a.useState(!0),[m,f]=a.useState([]),[i,p]=a.useState([]),c=window.sessionStorage.getItem("userId"),d=j();return a.useEffect(()=>{const s={userId:c};(async()=>{try{if(c){const l=(await x.get("/api/user/pastOrderCheck",{params:s,headers:{Authorization:`Bearer ${d}`}})).data.resultData;console.log(l),f([...l])}}catch(r){console.log(r)}})()},[]),a.useEffect(()=>{const s={userId:c};(async()=>{try{const r=await x.get("/api/user/activeOrderCheck",{params:s,headers:{Authorization:`Bearer ${d}`}});console.log(r.data);const l=r.data.resultData;p([...l])}catch(r){console.log(r)}})()},[]),console.log(i),e.jsxs("div",{className:"w-full h-dvh flex flex-col justify-between overflow-x-hidden overflow-y-scroll scrollbar-hide  bg-white",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full flex justify-between border-b-2 border-gray border-opacity-70 bg-white",children:[e.jsx("div",{onClick:()=>o(!t),className:`w-1/2 text-center text-xl font-semibold py-3 ${t?"border-b-2 border-black":"text-darkGray font-normal"}`,children:"진행 중인 주문"}),e.jsx("div",{onClick:()=>o(!t),className:`w-1/2 text-center text-xl font-semibold py-3 ${t?"text-darkGray font-normal":"border-b-2 border-black"}`,children:"지난 주문 내역"})]}),t?i.lenth===0?e.jsx(e.Fragment,{children:e.jsx(N,{})}):e.jsxs("div",{className:"flex flex-col w-full h-dvh justify-center items-center gap-3",children:[e.jsx(b,{className:"text-8xl text-darkGray"}),e.jsx("span",{className:"text-2xl text-darkGray",children:"진행 중인 주문이 없습니다"}),e.jsxs("div",{onClick:()=>o(!1),className:"flex items-center gap-1 mt-3 text-xl border border-darkGray px-3 py-1 rounded-lg bg-white cursor-pointer",children:["지난 주문 내역 보기",e.jsx(y,{})]})]}):e.jsx("div",{className:"flex flex-col w-full h-dvh justify-start items-center gap-5 mt-20 scrollbar-hide",children:m.map((s,n)=>e.jsxs("div",{className:"w-full h-1/4 bg-white shadow-lg border-y border-y-gray",children:[e.jsxs("div",{className:"w-full h-1/4 flex justify-between items-center px-5 py-3",children:[e.jsx("span",{className:"text-darkGray",children:s.createdAt.slice(0)}),e.jsx("span",{className:"font-semibold",children:s.reservationYn>0?"예약주문":"현장결제"})]}),e.jsxs("div",{className:"w-full h-2/4 flex justify-start items-center gap-5 px-5",children:[e.jsx("img",{src:s.filePath===""?"/storeimg.png":`${g}/pic/restaurant/${s==null?void 0:s.restaurantId}/${s==null?void 0:s.filePath}`,alt:"식당이미지",className:"w-16 h-16 rounded-xl"}),e.jsxs("div",{className:"flex flex-col w-[60%]",children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold text-2xl",children:[e.jsx("span",{children:s.restaurantName}),e.jsx(w,{})]}),e.jsxs("div",{className:"flex items-center gap-5 mt-1 justify-between",children:[e.jsx("span",{className:"text-nowrap",children:s.menuName.split(",").map(r=>r).slice(0,1)}),e.jsxs("span",{className:"flex text-nowrap gap-2 items-center",children:[e.jsx("span",{className:"text-darkGray",children:"총 가격"}),e.jsxs("span",{className:"text-lg",children:[s.menuTotalPrice.toLocaleString("ko-KR"),"원"]})]})]})]})]}),e.jsx("div",{className:"flex justify-center h-1/4",children:e.jsx("button",{onClick:()=>h("/user/review"),className:"w-1/4 h-2/3 flex px-4 py-1 border border-darkGray rounded-sm text-nowrap items-center justify-center hover:bg-primary hover:text-white",children:"리뷰 작성"})})]},n))}),e.jsx(v,{})]})};export{A as default};
