import{r as k,g as Jt,j as n,R as bt,c as X,n as Ne,d as F}from"./index-ji0Yrnpj.js";import{d as We}from"./dayjs.min-BTg5tAUl.js";import{F as Ye}from"./index-DPSCt2xo.js";import{S as en,P as Nt}from"./SideBar-ox0FaYlH.js";import{R as wt}from"./quill.snow-CPmFdtOb.js";import"./index-So2cuFMT.js";import"./isEqual-CwlUOuli.js";/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:jt,setPrototypeOf:Rt,isFrozen:tn,getPrototypeOf:nn,getOwnPropertyDescriptor:an}=Object;let{freeze:b,seal:v,create:Ut}=Object,{apply:Ze,construct:Qe}=typeof Reflect<"u"&&Reflect;b||(b=function(o){return o});v||(v=function(o){return o});Ze||(Ze=function(o,l,s){return o.apply(l,s)});Qe||(Qe=function(o,l){return new o(...l)});const ye=N(Array.prototype.forEach),on=N(Array.prototype.lastIndexOf),vt=N(Array.prototype.pop),le=N(Array.prototype.push),rn=N(Array.prototype.splice),be=N(String.prototype.toLowerCase),$e=N(String.prototype.toString),Ct=N(String.prototype.match),ce=N(String.prototype.replace),sn=N(String.prototype.indexOf),ln=N(String.prototype.trim),C=N(Object.prototype.hasOwnProperty),S=N(RegExp.prototype.test),ue=cn(TypeError);function N(c){return function(o){for(var l=arguments.length,s=new Array(l>1?l-1:0),h=1;h<l;h++)s[h-1]=arguments[h];return Ze(c,o,s)}}function cn(c){return function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return Qe(c,l)}}function u(c,o){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:be;Rt&&Rt(c,null);let s=o.length;for(;s--;){let h=o[s];if(typeof h=="string"){const R=l(h);R!==h&&(tn(o)||(o[s]=R),h=R)}c[h]=!0}return c}function un(c){for(let o=0;o<c.length;o++)C(c,o)||(c[o]=null);return c}function V(c){const o=Ut(null);for(const[l,s]of jt(c))C(c,l)&&(Array.isArray(s)?o[l]=un(s):s&&typeof s=="object"&&s.constructor===Object?o[l]=V(s):o[l]=s);return o}function de(c,o){for(;c!==null;){const s=an(c,o);if(s){if(s.get)return N(s.get);if(typeof s.value=="function")return N(s.value)}c=nn(c)}function l(){return null}return l}const Ot=b(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Xe=b(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ve=b(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dn=b(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),qe=b(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),fn=b(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),It=b(["#text"]),Dt=b(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ke=b(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Lt=b(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Se=b(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),mn=v(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pn=v(/<%[\w\W]*|[\w\W]*%>/gm),hn=v(/\$\{[\w\W]*/gm),gn=v(/^data-[\-\w.\u00B7-\uFFFF]+$/),xn=v(/^aria-[\-\w]+$/),Ft=v(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Tn=v(/^(?:\w+script|data):/i),En=v(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bt=v(/^html$/i),_n=v(/^[a-z][.\w]*(-[.\w]+)+$/i);var Mt=Object.freeze({__proto__:null,ARIA_ATTR:xn,ATTR_WHITESPACE:En,CUSTOM_ELEMENT:_n,DATA_ATTR:gn,DOCTYPE_NAME:Bt,ERB_EXPR:pn,IS_ALLOWED_URI:Ft,IS_SCRIPT_OR_DATA:Tn,MUSTACHE_EXPR:mn,TMPLIT_EXPR:hn});const fe={element:1,text:3,progressingInstruction:7,comment:8,document:9},An=function(){return typeof window>"u"?null:window},yn=function(o,l){if(typeof o!="object"||typeof o.createPolicy!="function")return null;let s=null;const h="data-tt-policy-suffix";l&&l.hasAttribute(h)&&(s=l.getAttribute(h));const R="dompurify"+(s?"#"+s:"");try{return o.createPolicy(R,{createHTML(D){return D},createScriptURL(D){return D}})}catch{return console.warn("TrustedTypes policy "+R+" could not be created."),null}},kt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function zt(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:An();const o=i=>zt(i);if(o.version="3.2.4",o.removed=[],!c||!c.document||c.document.nodeType!==fe.document||!c.Element)return o.isSupported=!1,o;let{document:l}=c;const s=l,h=s.currentScript,{DocumentFragment:R,HTMLTemplateElement:D,Node:P,Element:me,NodeFilter:B,NamedNodeMap:we=c.NamedNodeMap||c.MozNamedAttrMap,HTMLFormElement:Re,DOMParser:ve,trustedTypes:z}=c,H=me.prototype,j=de(H,"cloneNode"),G=de(H,"remove"),W=de(H,"nextSibling"),te=de(H,"childNodes"),U=de(H,"parentNode");if(typeof D=="function"){const i=l.createElement("template");i.content&&i.content.ownerDocument&&(l=i.content.ownerDocument)}let T,Y="";const{implementation:ne,createNodeIterator:Ce,createDocumentFragment:Oe,getElementsByTagName:Ie}=l,{importNode:De}=s;let r=kt();o.isSupported=typeof jt=="function"&&typeof U=="function"&&ne&&ne.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:d,ERB_EXPR:f,TMPLIT_EXPR:ae,DATA_ATTR:pe,ARIA_ATTR:Ht,IS_SCRIPT_OR_DATA:Gt,ATTR_WHITESPACE:Je,CUSTOM_ELEMENT:Wt}=Mt;let{IS_ALLOWED_URI:et}=Mt,g=null;const tt=u({},[...Ot,...Xe,...Ve,...qe,...It]);let E=null;const nt=u({},[...Dt,...Ke,...Lt,...Se]);let p=Object.seal(Ut(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),oe=null,Le=null,at=!0,Me=!0,ot=!1,rt=!0,q=!1,ke=!0,$=!1,Pe=!1,je=!1,K=!1,he=!1,ge=!1,it=!0,st=!1;const Yt="user-content-";let Ue=!0,re=!1,Z={},Q=null;const lt=u({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ct=null;const ut=u({},["audio","video","img","source","image","track"]);let Fe=null;const dt=u({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),xe="http://www.w3.org/1998/Math/MathML",Te="http://www.w3.org/2000/svg",L="http://www.w3.org/1999/xhtml";let J=L,Be=!1,ze=null;const $t=u({},[xe,Te,L],$e);let Ee=u({},["mi","mo","mn","ms","mtext"]),_e=u({},["annotation-xml"]);const Xt=u({},["title","style","font","a","script"]);let ie=null;const Vt=["application/xhtml+xml","text/html"],qt="text/html";let x=null,ee=null;const Kt=l.createElement("form"),ft=function(e){return e instanceof RegExp||e instanceof Function},He=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ee&&ee===e)){if((!e||typeof e!="object")&&(e={}),e=V(e),ie=Vt.indexOf(e.PARSER_MEDIA_TYPE)===-1?qt:e.PARSER_MEDIA_TYPE,x=ie==="application/xhtml+xml"?$e:be,g=C(e,"ALLOWED_TAGS")?u({},e.ALLOWED_TAGS,x):tt,E=C(e,"ALLOWED_ATTR")?u({},e.ALLOWED_ATTR,x):nt,ze=C(e,"ALLOWED_NAMESPACES")?u({},e.ALLOWED_NAMESPACES,$e):$t,Fe=C(e,"ADD_URI_SAFE_ATTR")?u(V(dt),e.ADD_URI_SAFE_ATTR,x):dt,ct=C(e,"ADD_DATA_URI_TAGS")?u(V(ut),e.ADD_DATA_URI_TAGS,x):ut,Q=C(e,"FORBID_CONTENTS")?u({},e.FORBID_CONTENTS,x):lt,oe=C(e,"FORBID_TAGS")?u({},e.FORBID_TAGS,x):{},Le=C(e,"FORBID_ATTR")?u({},e.FORBID_ATTR,x):{},Z=C(e,"USE_PROFILES")?e.USE_PROFILES:!1,at=e.ALLOW_ARIA_ATTR!==!1,Me=e.ALLOW_DATA_ATTR!==!1,ot=e.ALLOW_UNKNOWN_PROTOCOLS||!1,rt=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,q=e.SAFE_FOR_TEMPLATES||!1,ke=e.SAFE_FOR_XML!==!1,$=e.WHOLE_DOCUMENT||!1,K=e.RETURN_DOM||!1,he=e.RETURN_DOM_FRAGMENT||!1,ge=e.RETURN_TRUSTED_TYPE||!1,je=e.FORCE_BODY||!1,it=e.SANITIZE_DOM!==!1,st=e.SANITIZE_NAMED_PROPS||!1,Ue=e.KEEP_CONTENT!==!1,re=e.IN_PLACE||!1,et=e.ALLOWED_URI_REGEXP||Ft,J=e.NAMESPACE||L,Ee=e.MATHML_TEXT_INTEGRATION_POINTS||Ee,_e=e.HTML_INTEGRATION_POINTS||_e,p=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ft(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(p.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ft(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(p.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(p.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(Me=!1),he&&(K=!0),Z&&(g=u({},It),E=[],Z.html===!0&&(u(g,Ot),u(E,Dt)),Z.svg===!0&&(u(g,Xe),u(E,Ke),u(E,Se)),Z.svgFilters===!0&&(u(g,Ve),u(E,Ke),u(E,Se)),Z.mathMl===!0&&(u(g,qe),u(E,Lt),u(E,Se))),e.ADD_TAGS&&(g===tt&&(g=V(g)),u(g,e.ADD_TAGS,x)),e.ADD_ATTR&&(E===nt&&(E=V(E)),u(E,e.ADD_ATTR,x)),e.ADD_URI_SAFE_ATTR&&u(Fe,e.ADD_URI_SAFE_ATTR,x),e.FORBID_CONTENTS&&(Q===lt&&(Q=V(Q)),u(Q,e.FORBID_CONTENTS,x)),Ue&&(g["#text"]=!0),$&&u(g,["html","head","body"]),g.table&&(u(g,["tbody"]),delete oe.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw ue('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ue('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=e.TRUSTED_TYPES_POLICY,Y=T.createHTML("")}else T===void 0&&(T=yn(z,h)),T!==null&&typeof Y=="string"&&(Y=T.createHTML(""));b&&b(e),ee=e}},mt=u({},[...Xe,...Ve,...dn]),pt=u({},[...qe,...fn]),Zt=function(e){let t=U(e);(!t||!t.tagName)&&(t={namespaceURI:J,tagName:"template"});const a=be(e.tagName),m=be(t.tagName);return ze[e.namespaceURI]?e.namespaceURI===Te?t.namespaceURI===L?a==="svg":t.namespaceURI===xe?a==="svg"&&(m==="annotation-xml"||Ee[m]):!!mt[a]:e.namespaceURI===xe?t.namespaceURI===L?a==="math":t.namespaceURI===Te?a==="math"&&_e[m]:!!pt[a]:e.namespaceURI===L?t.namespaceURI===Te&&!_e[m]||t.namespaceURI===xe&&!Ee[m]?!1:!pt[a]&&(Xt[a]||!mt[a]):!!(ie==="application/xhtml+xml"&&ze[e.namespaceURI]):!1},O=function(e){le(o.removed,{element:e});try{U(e).removeChild(e)}catch{G(e)}},Ae=function(e,t){try{le(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch{le(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),e==="is")if(K||he)try{O(t)}catch{}else try{t.setAttribute(e,"")}catch{}},ht=function(e){let t=null,a=null;if(je)e="<remove></remove>"+e;else{const _=Ct(e,/^[\r\n\t ]+/);a=_&&_[0]}ie==="application/xhtml+xml"&&J===L&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const m=T?T.createHTML(e):e;if(J===L)try{t=new ve().parseFromString(m,ie)}catch{}if(!t||!t.documentElement){t=ne.createDocument(J,"template",null);try{t.documentElement.innerHTML=Be?Y:m}catch{}}const A=t.body||t.documentElement;return e&&a&&A.insertBefore(l.createTextNode(a),A.childNodes[0]||null),J===L?Ie.call(t,$?"html":"body")[0]:$?t.documentElement:A},gt=function(e){return Ce.call(e.ownerDocument||e,e,B.SHOW_ELEMENT|B.SHOW_COMMENT|B.SHOW_TEXT|B.SHOW_PROCESSING_INSTRUCTION|B.SHOW_CDATA_SECTION,null)},Ge=function(e){return e instanceof Re&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof we)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},xt=function(e){return typeof P=="function"&&e instanceof P};function M(i,e,t){ye(i,a=>{a.call(o,e,t,ee)})}const Tt=function(e){let t=null;if(M(r.beforeSanitizeElements,e,null),Ge(e))return O(e),!0;const a=x(e.nodeName);if(M(r.uponSanitizeElement,e,{tagName:a,allowedTags:g}),e.hasChildNodes()&&!xt(e.firstElementChild)&&S(/<[/\w]/g,e.innerHTML)&&S(/<[/\w]/g,e.textContent)||e.nodeType===fe.progressingInstruction||ke&&e.nodeType===fe.comment&&S(/<[/\w]/g,e.data))return O(e),!0;if(!g[a]||oe[a]){if(!oe[a]&&_t(a)&&(p.tagNameCheck instanceof RegExp&&S(p.tagNameCheck,a)||p.tagNameCheck instanceof Function&&p.tagNameCheck(a)))return!1;if(Ue&&!Q[a]){const m=U(e)||e.parentNode,A=te(e)||e.childNodes;if(A&&m){const _=A.length;for(let w=_-1;w>=0;--w){const I=j(A[w],!0);I.__removalCount=(e.__removalCount||0)+1,m.insertBefore(I,W(e))}}}return O(e),!0}return e instanceof me&&!Zt(e)||(a==="noscript"||a==="noembed"||a==="noframes")&&S(/<\/no(script|embed|frames)/i,e.innerHTML)?(O(e),!0):(q&&e.nodeType===fe.text&&(t=e.textContent,ye([d,f,ae],m=>{t=ce(t,m," ")}),e.textContent!==t&&(le(o.removed,{element:e.cloneNode()}),e.textContent=t)),M(r.afterSanitizeElements,e,null),!1)},Et=function(e,t,a){if(it&&(t==="id"||t==="name")&&(a in l||a in Kt))return!1;if(!(Me&&!Le[t]&&S(pe,t))){if(!(at&&S(Ht,t))){if(!E[t]||Le[t]){if(!(_t(e)&&(p.tagNameCheck instanceof RegExp&&S(p.tagNameCheck,e)||p.tagNameCheck instanceof Function&&p.tagNameCheck(e))&&(p.attributeNameCheck instanceof RegExp&&S(p.attributeNameCheck,t)||p.attributeNameCheck instanceof Function&&p.attributeNameCheck(t))||t==="is"&&p.allowCustomizedBuiltInElements&&(p.tagNameCheck instanceof RegExp&&S(p.tagNameCheck,a)||p.tagNameCheck instanceof Function&&p.tagNameCheck(a))))return!1}else if(!Fe[t]){if(!S(et,ce(a,Je,""))){if(!((t==="src"||t==="xlink:href"||t==="href")&&e!=="script"&&sn(a,"data:")===0&&ct[e])){if(!(ot&&!S(Gt,ce(a,Je,"")))){if(a)return!1}}}}}}return!0},_t=function(e){return e!=="annotation-xml"&&Ct(e,Wt)},At=function(e){M(r.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Ge(e))return;const a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:E,forceKeepAttr:void 0};let m=t.length;for(;m--;){const A=t[m],{name:_,namespaceURI:w,value:I}=A,se=x(_);let y=_==="value"?I:ln(I);if(a.attrName=se,a.attrValue=y,a.keepAttr=!0,a.forceKeepAttr=void 0,M(r.uponSanitizeAttribute,e,a),y=a.attrValue,st&&(se==="id"||se==="name")&&(Ae(_,e),y=Yt+y),ke&&S(/((--!?|])>)|<\/(style|title)/i,y)){Ae(_,e);continue}if(a.forceKeepAttr||(Ae(_,e),!a.keepAttr))continue;if(!rt&&S(/\/>/i,y)){Ae(_,e);continue}q&&ye([d,f,ae],St=>{y=ce(y,St," ")});const yt=x(e.nodeName);if(Et(yt,se,y)){if(T&&typeof z=="object"&&typeof z.getAttributeType=="function"&&!w)switch(z.getAttributeType(yt,se)){case"TrustedHTML":{y=T.createHTML(y);break}case"TrustedScriptURL":{y=T.createScriptURL(y);break}}try{w?e.setAttributeNS(w,_,y):e.setAttribute(_,y),Ge(e)?O(e):vt(o.removed)}catch{}}}M(r.afterSanitizeAttributes,e,null)},Qt=function i(e){let t=null;const a=gt(e);for(M(r.beforeSanitizeShadowDOM,e,null);t=a.nextNode();)M(r.uponSanitizeShadowNode,t,null),Tt(t),At(t),t.content instanceof R&&i(t.content);M(r.afterSanitizeShadowDOM,e,null)};return o.sanitize=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=null,a=null,m=null,A=null;if(Be=!i,Be&&(i="<!-->"),typeof i!="string"&&!xt(i))if(typeof i.toString=="function"){if(i=i.toString(),typeof i!="string")throw ue("dirty is not a string, aborting")}else throw ue("toString is not a function");if(!o.isSupported)return i;if(Pe||He(e),o.removed=[],typeof i=="string"&&(re=!1),re){if(i.nodeName){const I=x(i.nodeName);if(!g[I]||oe[I])throw ue("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof P)t=ht("<!---->"),a=t.ownerDocument.importNode(i,!0),a.nodeType===fe.element&&a.nodeName==="BODY"||a.nodeName==="HTML"?t=a:t.appendChild(a);else{if(!K&&!q&&!$&&i.indexOf("<")===-1)return T&&ge?T.createHTML(i):i;if(t=ht(i),!t)return K?null:ge?Y:""}t&&je&&O(t.firstChild);const _=gt(re?i:t);for(;m=_.nextNode();)Tt(m),At(m),m.content instanceof R&&Qt(m.content);if(re)return i;if(K){if(he)for(A=Oe.call(t.ownerDocument);t.firstChild;)A.appendChild(t.firstChild);else A=t;return(E.shadowroot||E.shadowrootmode)&&(A=De.call(s,A,!0)),A}let w=$?t.outerHTML:t.innerHTML;return $&&g["!doctype"]&&t.ownerDocument&&t.ownerDocument.doctype&&t.ownerDocument.doctype.name&&S(Bt,t.ownerDocument.doctype.name)&&(w="<!DOCTYPE "+t.ownerDocument.doctype.name+`>
`+w),q&&ye([d,f,ae],I=>{w=ce(w,I," ")}),T&&ge?T.createHTML(w):w},o.setConfig=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};He(i),Pe=!0},o.clearConfig=function(){ee=null,Pe=!1},o.isValidAttribute=function(i,e,t){ee||He({});const a=x(i),m=x(e);return Et(a,m,t)},o.addHook=function(i,e){typeof e=="function"&&le(r[i],e)},o.removeHook=function(i,e){if(e!==void 0){const t=on(r[i],e);return t===-1?void 0:rn(r[i],t,1)[0]}return vt(r[i])},o.removeHooks=function(i){r[i]=[]},o.removeAllHooks=function(){r=kt()},o}var Sn=zt();const bn=Ne.div`
  display: flex;
  justify-content: space-between;
  background-color: #eee;
  max-height: 100vh;
  height: auto;
  overflow: hidden;
`,Nn=Ne.div`
  margin-top: 32px;
  flex-wrap: wrap;
  padding: 20px 30px;
  padding-bottom: 30px;
  border-radius: 10px;
  width: 830px;
  max-height: calc(100vh - 60px);
  overflow-y: auto;
  background-color: #fff;
`,Pt=Ne.div`
  font-size: 24px;
  font-weight: 700;
  margin-bottom: 20px;
`,wn=Ne.div`
  box-shadow:
    0px 20px 25px -5px rgba(0, 0, 0, 0.1),
    0px 10px 10px -5px rgba(0, 0, 0, 0.04);
  width: 350px;
  background-color: #fff;
  display: flex;
  flex-direction: column;
`;function Mn(){const[o,l]=k.useState(0),[s,h]=k.useState(""),[R,D]=k.useState(!1),[P,me]=k.useState([]),[B,we]=k.useState([]),[Re,ve]=k.useState(0),z=We().format("YYYY-MM-DD"),H=We(z).add(-1,"day").format("YYYY-MM-DD"),j=Jt(),G=parseInt(sessionStorage.getItem("adminId")),W=parseInt(sessionStorage.getItem("restaurantId")),te=async()=>{const r={adminId:G,restaurantId:W};try{const d=await X.get("/api/admin/restaurant/v3/black-list",{params:r,headers:{Authorization:`Bearer ${j}`}});we(d.data.resultData),console.log("블랙리스트 조회 완료",d.data.resultData)}catch(d){console.log(d)}},U=async()=>{const r={restaurantId:W};try{const d=await X.get("/api/restaurant/v3/review",{params:r});console.log("리뷰",d.data.resultData),ve(d.data.resultData.avgRating),me(d.data.resultData.reviews)}catch(d){console.log(d)}},T=async r=>{const d={adminId:G,orderId:r};try{const f=await X.patch("/api/admin/restaurant/v3/review/del-request",d,{headers:{Authorization:`Bearer ${j}`}});F.fire({title:"신고가 성공적으로 접수되었습니다.",icon:"success",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1}),console.log(f)}catch(f){console.log(f)}},Y=async r=>{const d={adminId:G,orderId:r,commentText:s};if(console.log(d),s==="<p><br></p>")F.fire({title:"댓글 내용을 입력해주세요.",icon:"error",allowOutsideClick:!1});else if(!s)F.fire({title:"댓글 내용을 입력해주세요.",icon:"error",allowOutsideClick:!1});else try{await X.post("/api/admin/restaurant/v3/review",d,{headers:{Authorization:`Bearer ${j}`}}),F.fire({title:"댓글이 등록되었습니다.",icon:"success",confirmButtonText:"확인",showConfirmButton:!0,allowOutsideClick:!1}),U()}catch(f){console.log(f)}},ne=async r=>{const d={adminId:G,restaurantId:W,userId:r,reason:"폭언 및 기물파손"};try{await X.post("/api/admin/restaurant/v3/black-list",d,{headers:{Authorization:`Bearer ${j}`}}),te()}catch(f){console.log(f)}},Ce=async r=>{try{await X.delete(`/api/admin/restaurant/reviewComment?restaurantId=${W}&orderId=${r}`,{headers:{Authorization:`Bearer ${j}`}}),F.fire("댓글이 삭제 되었습니다.","","success"),U(),l(0)}catch(d){console.log(d)}},Oe=r=>{F.fire({title:"댓글을 삭제하시겠습니까?",text:"삭제한 댓글은 복구할 수 없습니다.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#79BAF2",cancelButtonColor:"#E44B58",confirmButtonText:"확인",cancelButtonText:"취소",reverseButtons:!1}).then(d=>{d.isConfirmed&&Ce(r)})},Ie=async(r,d)=>{try{await X.delete(`/api/admin/restaurant/v3/black-list?adminId=${G}&restaurantId=${W}&userId=${r}`,{headers:{Authorization:`Bearer ${j}`}}),F.fire(`${d}님이 
 블랙리스트에서 삭제 되었습니다.`,"","success"),te()}catch(f){console.log(f)}},De=(r,d)=>{F.fire({title:`${d}님을 
 블랙리스트에서 삭제하시겠습니까?`,text:"삭제한 내용은 복구할 수 없습니다.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#79BAF2",cancelButtonColor:"#E44B58",confirmButtonText:"확인",cancelButtonText:"취소",reverseButtons:!1}).then(f=>{f.isConfirmed&&Ie(r,d)})};return k.useEffect(()=>{te(),U()},[]),k.useEffect(()=>{console.log("가져온 데이터??",P)},[P]),k.useEffect(()=>{console.log("댓글",s)},[s]),n.jsx("div",{children:n.jsxs(bn,{children:[n.jsx(en,{}),n.jsxs(Nn,{className:"scrollbar-hide",children:[n.jsx(Pt,{children:"리뷰관리"}),n.jsx("div",{className:"border-gray border mb-5"}),n.jsx("div",{className:"mb-2 text-[18px]",children:"전체 별점"}),n.jsxs("div",{className:"flex gap-3 items-center mb-3",children:[n.jsx(Ye,{className:"text-yellow"}),n.jsx("div",{className:"font-bold",children:Re.toFixed(1)}),n.jsxs("div",{className:"text-darkGray",children:["(총 리뷰 ",P.length,"개)"]})]}),n.jsxs("div",{className:"inline-flex gap-3 items-center border border-gray px-4 py-2 rounded-[5px] mb-10",children:[n.jsx("div",{className:"text-darkGray",children:"조회기간"}),n.jsx("input",{type:"date",defaultValue:H}),n.jsx("div",{children:"~"}),n.jsx("input",{type:"date",defaultValue:z})]}),P.map((r,d)=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex gap-5",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-bold mb-2",children:r.nickName}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("div",{className:"font-bold text-[20px]",children:r.rating.toFixed(1)}),n.jsx("div",{className:"flex gap-2",children:[...Array(5)].map((f,ae)=>{const pe=ae+1;return n.jsx(Ye,{className:`w-[20px] h-[20px] ${pe<=r.rating?"text-yellow":"text-gray"}`},pe)})})]}),n.jsx("div",{className:"mt-2 text-darkGray",children:We(r.createdAt).format("YYYY-MM-DD")})]}),n.jsxs("div",{children:[n.jsx("div",{children:r.reviewText}),n.jsx("div",{className:"flex w-[300px] my-3 gap-1",children:r.reviewPic.map(f=>n.jsx("img",{src:f,className:"flex w-1/3 rounded-[5px]",alt:""}))}),n.jsx("div",{className:"mb-2 w-[435px] flex flex-wrap gap-2",children:r.menuName.map(f=>n.jsx("div",{className:"border border-slate-300 px-3 py-1 rounded-full inline",children:f}))}),r.commentText?n.jsxs("div",{className:"mt-5 w-[435px]",children:[n.jsxs("div",{className:"flex gap-3 items-center mb-3",children:[n.jsx("div",{className:"font-bold text-[20px]",children:"내가 남긴 댓글"}),n.jsx(bt,{onClick:()=>Oe(r.orderId),className:"cursor-pointer text-[20px]"})]}),n.jsx("p",{className:"bg-gray p-4 rounded-[5px] w-",dangerouslySetInnerHTML:{__html:Sn.sanitize(String(r.commentText))}})]}):n.jsx("div",{children:o!==r.orderId?n.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded-sm",onClick:()=>l(r.orderId),children:"댓글쓰기"}):n.jsxs("div",{children:[n.jsx(wt,{className:"h-[150px] w-[435px]",placeholder:"소중한 리뷰에 답글을 남겨보세요!",modules:{toolbar:!1},readOnly:!1,onChange:f=>h(f)}),n.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[n.jsx("button",{className:"bg-gray py-1 px-3 rounded-[5px]",onClick:()=>l(0),children:"취소"}),n.jsx("button",{className:"bg-primary text-white py-1 px-3 rounded-[5px]",onClick:()=>Y(r.orderId),children:"등록"})]})]})})]}),n.jsxs("div",{className:"flex gap-2 items-center cursor-pointer ml-5 text-red h-4",onClick:()=>{ne(r.userId),T(r.orderId)},children:[n.jsx(Nt,{className:"w-[20px] h-[20px]"}),n.jsx("div",{children:"신고하기"})]})]}),n.jsx("div",{className:"border-gray border my-5"})]},d)),n.jsxs("div",{children:[n.jsxs("div",{className:"flex gap-5",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-bold mb-2",children:"건물주 고양이"}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("div",{className:"font-bold text-[20px]",children:"5.0"}),n.jsx("div",{className:"flex gap-2",children:[...Array(5)].map((r,d)=>{const f=d+1;return n.jsx(Ye,{className:`w-[20px] h-[20px] ${f<=5?"text-yellow":"text-gray"}`},f)})})]}),n.jsx("div",{className:"mt-2 text-darkGray",children:"2025-02-23"})]}),n.jsxs("div",{children:[n.jsx("div",{children:"양도 많고 감자도 잘 튀겨졌어요~~~ 역시 최고 !!"}),n.jsxs("div",{className:"flex w-[300px] my-3 gap-1",children:[n.jsx("img",{src:"/swiper1.webp",className:"flex w-1/3 rounded-[5px]",alt:""}),n.jsx("img",{src:"/swiper2.webp",className:"flex w-1/3 rounded-[5px]",alt:""}),n.jsx("img",{src:"/swiper3.webp",className:"flex w-1/3 rounded-[5px]",alt:""})]}),n.jsx("div",{className:"mb-2",children:"모짜렐라인더 버거-베이컨 세트 1개, 양념감자(양파맛) 2개"}),o!==2?n.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded-sm",onClick:()=>l(2),children:"댓글쓰기"}):n.jsxs("div",{children:[n.jsx(wt,{className:"h-[150px]",placeholder:"소중한 리뷰에 답글을 남겨보세요!",modules:{toolbar:!1},readOnly:!1,onChange:r=>h(r)}),n.jsxs("div",{className:"flex justify-end gap-3 mt-2",children:[n.jsx("button",{className:"bg-gray py-1 px-3 rounded-[5px]",onClick:()=>l(0),children:"취소"}),n.jsx("button",{className:"bg-primary text-white py-1 px-3 rounded-[5px]",children:"등록"})]})]})]}),n.jsxs("div",{className:"flex gap-2 items-center cursor-pointer ml-24 text-red h-4",children:[n.jsx(Nt,{className:"w-[20px] h-[20px]"}),n.jsx("div",{children:"신고하기"})]})]}),n.jsx("div",{className:"border-gray border my-5"})]})]}),n.jsxs(wn,{children:[n.jsx(Pt,{className:"text-center my-10",children:"블랙리스트 목록"}),n.jsx("div",{className:"mx-10 overflow-y-auto scrollbar-hide mb-5",children:B.map(r=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between mt-2",children:[n.jsxs("div",{children:[r.nickName,"(",r.uid,")"]}),R&&n.jsx(bt,{onClick:()=>De(r.userId,r.nickName),className:"cursor-pointer w-5 h-5"})]}),n.jsx("div",{className:"border-gray border mt-2"})]}))}),n.jsx("div",{className:"mt-auto mb-5 flex justify-center",children:R?n.jsx("button",{className:"bg-primary text-white py-2 px-5 rounded-[5px]",onClick:()=>D(!1),children:"확인"}):n.jsx("button",{className:"bg-primary text-white py-2 px-5 rounded-[5px]",onClick:()=>D(!0),children:"수정하기"})})]})]})})}export{Mn as default};
